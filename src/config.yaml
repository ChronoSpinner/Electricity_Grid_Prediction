# OPSD PowerDesk Assignment Configuration

countries:
  - BE

dataset:
  input_folder: 'data'
  raw_csv: 'opsd_time_series_60min_singleindex.csv'

decomposition:
  seasonality: 24  # Daily seasonality (hourly data)
  stl_period: 24
  acf_pacf_lags: 48

sarima:
  p_range: [1]
  d_range: [1]
  q_range: [0, 1, 2]
  P_range: [2]
  D_range: [1]
  Q_range: [0]
  s: 24

forecasting:
  train_ratio: 0.8
  val_ratio: 0.1
  test_ratio: 0.1
  warmup_days: 60
  horizon: 24
  stride: 24
  confidence_level: 0.80
  fit_history_days: 30

  use_exogenous: true
  include_calendar_features: true
  include_wind: true
  include_solar: true
  # Optionally add lag features flag here, if future tuning:
  # include_lag_features: true  # Currently applied by code automatically

anomaly:
  zscore_window: 336
  zscore_threshold: 3.0
  zscore_min_periods: 168
  cusum_k: 0.5
  cusum_h: 5.0
  cusum_threshold: 3.0

anomaly_ml:
  high_z_threshold: 3.5
  med_z_threshold: 2.5
  low_z_threshold: 1.0
  test_sample_size: 100

live_simulation:
  start_history_days: 120
  simulate_hours: 2000
  adaptation_strategy: 'rolling_sarimax'
  rolling_sarimax_days: 90
  neural_finetune_days: 14
  drift_threshold: 0.95

metrics:
  seasonality: 24
  primary: 'MASE'

outputs:
  folder: 'outputs'
  figures_folder: 'outputs/figures'
  forecasts_folder: 'outputs/forecasts'
  models_folder: 'outputs/models'
  metrics_folder: 'outputs/metrics'
  anomalies_folder: 'outputs/anomalies'
  live_folder: 'outputs/live'
